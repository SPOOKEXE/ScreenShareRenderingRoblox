
local HttpService = game:GetService('HttpService')
local ReplicatedStorage = game:GetService('ReplicatedStorage')

local RemoteService = require(ReplicatedStorage:WaitForChild('RemoteService'))
local ReplicateRemote = RemoteService:GetRemote('Replicate', 'RemoteEvent', false)

local socket = WebSocket.connect("ws://localhost:500")

-- on close
socket.OnClose:Connect(function()
	print('connection closed')
end)

socket.OnMessage:Connect(function(Data)
	ReplicateRemote:FireServer(HttpService:JSONDecode(Data))
end)

socket:Send("") -- update
